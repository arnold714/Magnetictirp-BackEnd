<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.ssafy.favorite.model.mapper.FavoriteMapper">
	
	<!-- type = noticesDto ,  id= notices  -->
	<resultMap type="favoriteDto" id="favorite">
		<result column="fav_no" property="favNo"/>
		<result column="email" property="email"/>
		<result column="content_id" property="contentId"/>
	</resultMap>
	
	<insert id="registerFavorite">
        INSERT INTO favorites (email, content_id)
        VALUES (#{email}, #{contentId});
    </insert>

    <!-- deleteFavorite: email과 content_id를 기반으로 삭제 -->
    <delete id="deleteFavorite">
        DELETE FROM favorites
        WHERE email = #{email} AND content_id = #{contentId};
    </delete>

    <!-- listFavorite: 특정 email의 모든 content_id를 가져오기 -->
    <select id="listFavorite" resultMap="favorite">
        SELECT fav_no, email, content_id
        FROM favorites
        WHERE email = #{email};
    </select>
	
	

</mapper>